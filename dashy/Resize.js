import{S as B,i as K,s as Q,U,q as w,V as h,c as V,r as z,u,L as W,m as X,t as Y,a as A,D as a,d as F,K as I,aa as S,aQ as C,n as H,ab as J,b as j,bq as M,be as P,G as N,a5 as v}from"./overlayscrollbars.js";function O(m){let n;return{c(){n=I("Grant Permissions")},m(o,b){u(o,n,b)},d(o){o&&a(n)}}}function T(m){let n,o,b,l,s;return l=new U({props:{class:"mt-4",$$slots:{default:[O]},$$scope:{ctx:m}}}),l.$on("click",m[0]),{c(){n=w("div"),o=w("span"),o.textContent="Dashy needs your permission to load the website into the widget. Don't worry, Dashy does not store your data.",b=h(),V(l.$$.fragment),z(o,"class","text-sm text-center"),z(n,"class","max-w-[24rem] p-6 h-max flex flex-col items-center justify-center")},m(e,i){u(e,n,i),W(n,o),W(n,b),X(l,n,null),s=!0},p(e,[i]){const _={};i&2&&(_.$$scope={dirty:i,ctx:e}),l.$set(_)},i(e){s||(Y(l.$$.fragment,e),s=!0)},o(e){A(l.$$.fragment,e),s=!1},d(e){e&&a(n),F(l)}}}function Z(m){return[async()=>{await browser.permissions.request({origins:["<all_urls>"]})&&window.location.reload()}]}class et extends B{constructor(n){super(),K(this,n,Z,T,Q,{})}}function g(m){let n,o,b,l,s,e,i,_,p,x,d,q,k,G,f,y,r;return{c(){n=w("button"),o=h(),b=w("button"),l=h(),s=w("button"),e=h(),i=w("button"),_=h(),p=w("button"),x=h(),d=w("button"),q=h(),k=w("button"),G=h(),f=w("button"),z(n,"class","resize-handler absolute h-full w-2 top-0 left-0 shrink-0 z-10 cursor-grab"),z(b,"class","resize-handler absolute h-full w-2 top-0 right-0 shrink-0 z-10 cursor-ew-resize"),z(s,"class","resize-handler absolute h-2 w-full left-0 top-0 shrink-0 z-10 cursor-grab"),z(i,"class","resize-handler absolute h-2 w-full left-0 bottom-0 shrink-0 z-10 cursor-ns-resize"),z(p,"class","resize-handler absolute h-2 w-2 bottom-0 right-0 shrink-0 z-10 cursor-nwse-resize"),z(d,"class","resize-handler absolute h-2 w-2 bottom-0 left-0 shrink-0 z-10 cursor-grab"),z(k,"class","resize-handler absolute h-2 w-2 top-0 right-0 shrink-0 z-10 cursor-grab"),z(f,"class","resize-handler absolute h-2 w-2 top-0 -left-0 shrink-0 z-10 cursor-grab")},m(t,c){u(t,n,c),u(t,o,c),u(t,b,c),u(t,l,c),u(t,s,c),u(t,e,c),u(t,i,c),u(t,_,c),u(t,p,c),u(t,x,c),u(t,d,c),u(t,q,c),u(t,k,c),u(t,G,c),u(t,f,c),y||(r=[S(b,"pointerdown",C(m[3])),S(i,"pointerdown",C(m[4])),S(p,"pointerdown",C(m[5]))],y=!0)},p:H,i:H,o:H,d(t){t&&a(n),t&&a(o),t&&a(b),t&&a(l),t&&a(s),t&&a(e),t&&a(i),t&&a(_),t&&a(p),t&&a(x),t&&a(d),t&&a(q),t&&a(k),t&&a(G),t&&a(f),y=!1,J(r)}}}const D=24,R=10,E=50,L=50;function $(m,n,o){let b,l;j(m,M,f=>o(7,b=f)),j(m,P,f=>o(8,l=f));let{w:s=0}=n,{h:e=0}=n,i="";const _=N(),p=f=>{i=f,window.addEventListener("pointermove",d),window.addEventListener("pointerup",x)},x=()=>{v(P,l=!1,l),window.removeEventListener("pointermove",d),window.removeEventListener("pointerup",x),_("resize",{w:s,h:e})},d=f=>{v(P,l=!0,l);const y=b,r=f.movementX/y,t=f.movementY/y;i==="top"&&!(e-t<R)&&!(e-t>L)&&o(2,e=e-t),i==="bottom"&&!(e+t<R)&&!(e+t>L)&&o(2,e=e+t),i==="left"&&!(s-r<D)&&!(s-r>E)&&o(1,s=s-r),i==="right"&&!(s+r<D)&&!(s+r>E)&&o(1,s=s+r),i==="top-left"&&(!(s-r<D)&&!(s-r>E)&&o(1,s=s-r),!(e-t<R)&&!(e-t>L)&&o(2,e=e-t)),i==="top-right"&&(!(s+r<D)&&!(s+r>E)&&o(1,s=s+r),!(e-t<R)&&!(e-t>L)&&o(2,e=e-t)),i==="bottom-left"&&(!(s-r<D)&&!(s-r>E)&&o(1,s=s-r),!(e+t<R)&&!(e+t>L)&&o(2,e=e+t)),i==="bottom-right"&&(!(s+r<D)&&!(s+r>E)&&o(1,s=s+r),!(e+t<R)&&!(e+t>L)&&o(2,e=e+t))},q=()=>p("right"),k=()=>p("bottom"),G=()=>p("bottom-right");return m.$$set=f=>{"w"in f&&o(1,s=f.w),"h"in f&&o(2,e=f.h)},[p,s,e,q,k,G]}class st extends B{constructor(n){super(),K(this,n,$,g,Q,{w:1,h:2})}}export{et as G,st as R};
